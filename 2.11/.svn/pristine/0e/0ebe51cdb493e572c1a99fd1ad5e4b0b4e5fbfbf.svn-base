using System;
using System.Collections.Generic;
using System.Text;
using System.Threading;
using System.Threading.Tasks;
using Model;
using ViewModels;
using Xunit;

namespace WPF.IntegrationTest
{
    public class EventViewModelTests
    {
        public EventViewModelTests()
        {
            App.Scheduler = TaskScheduler.Default;
            User.CurrentUser = new User { ID = "1" };
        }

        [Fact]
        public void CreatesRob()
        {
            //var target = EventViewModel.New("1");
            //SpinWait.SpinUntil(() => !target.Initializing);
            //target.Name = "Test";
            //target.SelectedCustomerLevel = target.CustomerLevels.FirstOrDefault();
            //SpinWait.SpinUntil(() => target.Customers.Count > 0, 5000);
            //Assert.True(target.Customers.Count > 0); 
            //target.SelectedProductLevel = target.ProductLevels.FirstOrDefault();
            //SpinWait.SpinUntil(() => target.Products.Count > 0, 5000);
            //Assert.True(target.Products.Count > 0);
            //target.SelectedProduct = target.Products.FirstOrDefault();
            //target.Start = new DateTime(2012, 1, 1);
            //target.End = new DateTime(2012, 12, 31);
            //target.SelectedType = target.EventTypes.FirstOrDefault();
            //SpinWait.SpinUntil(() => target.EventSubTypes.Count > 0, 5000);
            //Assert.True(target.EventSubTypes.Count > 0);
            //target.SelectedSubType = target.EventSubTypes.FirstOrDefault();
            //target.SelectedStatus = target.Statuses.FirstOrDefault();
            //target.SelectedScenario = target.Scenarios.FirstOrDefault();
            //Assert.True(target.SaveCommand.CanExecute(null));

            ////var saveTask = target.Save();
            //saveTask.Wait();
            //Assert.False(saveTask.IsFaulted);
            //Assert.False(saveTask.IsCanceled);
        }

        private static void RunTest(Action action)
        {
        }

       
    }
}
