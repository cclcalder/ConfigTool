@model Model.Entity.Listings.TreeViewHierarchy

@{

    var nodeId = "treeNode_" + @Model.Idx;

    <!-- the value of disabled must be lowercase -->
    <li id="@nodeId" data-jstree='{"disabled":@((!Model.IsSelectable).ToString().ToLower())}' >

        @Html.Label(@Model.Name)

        @if (@Model.Children != null && @Model.Children.Any())
        {

            <ul>

                @for (int i = 0; i < @Model.Children.Count; i++)
                {
                    @Html.EditorFor(model => model.Children[i], "_TreeNode")
                }

            </ul>

        }

    </li>

}